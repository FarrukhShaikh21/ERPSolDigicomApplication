package dgcom.model.eo.srv;

import dgcom.model.stand.DigicomEntityImpl;

import java.math.BigDecimal;

import java.sql.Timestamp;

import oracle.jbo.ApplicationModule;
import oracle.jbo.AttributeList;
import oracle.jbo.Key;
import oracle.jbo.ViewObject;
import oracle.jbo.domain.Date;
import oracle.jbo.server.AttributeDefImpl;
import oracle.jbo.server.EntityDefImpl;
import oracle.jbo.server.TransactionEvent;
// ---------------------------------------------------------------------
// ---    File generated by Oracle ADF Business Components Design Time.
// ---    Tue Aug 09 11:54:47 PKT 2016
// ---    Custom code may be added to this class.
// ---    Warning: Do not modify method signatures of generated methods.
// ---------------------------------------------------------------------
public class PuSuppInvPiLinksImpl extends DigicomEntityImpl {
    /**
     * AttributesEnum: generated enum for identifying attributes and accessors. DO NOT MODIFY.
     */
    public enum AttributesEnum {
        SuppInvDetlid,
        Suppinvoiceid,
        Codetlid,
        Itemid,
        Rnoteno,
        Rnlineno,
        ItemType,
        ConfirmedQty,
        SiQty,
        ExtraQty,
        UnitPriceInFcurr,
        UnitPriceInBcurr,
        Createdby,
        CreatedDate,
        Modifiedby,
        ModifiedDate,
        Partid,
        PuSupplierInvoices;
        private static AttributesEnum[] vals = null;
        private static final int firstIndex = 0;

        public int index() {
            return AttributesEnum.firstIndex() + ordinal();
        }

        public static final int firstIndex() {
            return firstIndex;
        }

        public static int count() {
            return AttributesEnum.firstIndex() + AttributesEnum.staticValues().length;
        }

        public static final AttributesEnum[] staticValues() {
            if (vals == null) {
                vals = AttributesEnum.values();
            }
            return vals;
        }
    }


    public static final int SUPPINVDETLID = AttributesEnum.SuppInvDetlid.index();
    public static final int SUPPINVOICEID = AttributesEnum.Suppinvoiceid.index();
    public static final int CODETLID = AttributesEnum.Codetlid.index();
    public static final int ITEMID = AttributesEnum.Itemid.index();
    public static final int RNOTENO = AttributesEnum.Rnoteno.index();
    public static final int RNLINENO = AttributesEnum.Rnlineno.index();
    public static final int ITEMTYPE = AttributesEnum.ItemType.index();
    public static final int CONFIRMEDQTY = AttributesEnum.ConfirmedQty.index();
    public static final int SIQTY = AttributesEnum.SiQty.index();
    public static final int EXTRAQTY = AttributesEnum.ExtraQty.index();
    public static final int UNITPRICEINFCURR = AttributesEnum.UnitPriceInFcurr.index();
    public static final int UNITPRICEINBCURR = AttributesEnum.UnitPriceInBcurr.index();
    public static final int CREATEDBY = AttributesEnum.Createdby.index();
    public static final int CREATEDDATE = AttributesEnum.CreatedDate.index();
    public static final int MODIFIEDBY = AttributesEnum.Modifiedby.index();
    public static final int MODIFIEDDATE = AttributesEnum.ModifiedDate.index();
    public static final int PARTID = AttributesEnum.Partid.index();
    public static final int PUSUPPLIERINVOICES = AttributesEnum.PuSupplierInvoices.index();

    /**
     * This is the default constructor (do not remove).
     */
    public PuSuppInvPiLinksImpl() {
    }

    /**
     * @return the definition object for this instance class.
     */
    public static synchronized EntityDefImpl getDefinitionObject() {
        return EntityDefImpl.findDefObject("dgcom.model.eo.srv.PuSuppInvPiLinks");
    }


    /**
     * Gets the attribute value for SuppInvDetlid, using the alias name SuppInvDetlid.
     * @return the value of SuppInvDetlid
     */
    public String getSuppInvDetlid() {
        return (String) getAttributeInternal(SUPPINVDETLID);
    }

    /**
     * Sets <code>value</code> as the attribute value for SuppInvDetlid.
     * @param value value to set the SuppInvDetlid
     */
    public void setSuppInvDetlid(String value) {
        setAttributeInternal(SUPPINVDETLID, value);
    }

    /**
     * Gets the attribute value for Suppinvoiceid, using the alias name Suppinvoiceid.
     * @return the value of Suppinvoiceid
     */
    public String getSuppinvoiceid() {
        return (String) getAttributeInternal(SUPPINVOICEID);
    }

    /**
     * Sets <code>value</code> as the attribute value for Suppinvoiceid.
     * @param value value to set the Suppinvoiceid
     */
    public void setSuppinvoiceid(String value) {
        setAttributeInternal(SUPPINVOICEID, value);
    }

    /**
     * Gets the attribute value for Codetlid, using the alias name Codetlid.
     * @return the value of Codetlid
     */
    public String getCodetlid() {
        return (String) getAttributeInternal(CODETLID);
    }

    /**
     * Sets <code>value</code> as the attribute value for Codetlid.
     * @param value value to set the Codetlid
     */
    public void setCodetlid(String value) {
        setAttributeInternal(CODETLID, value);
    }

    /**
     * Gets the attribute value for Itemid, using the alias name Itemid.
     * @return the value of Itemid
     */
    public String getItemid() {
        return (String) getAttributeInternal(ITEMID);
    }

    /**
     * Sets <code>value</code> as the attribute value for Itemid.
     * @param value value to set the Itemid
     */
    public void setItemid(String value) {
        setAttributeInternal(ITEMID, value);
    }

    /**
     * Gets the attribute value for Rnoteno, using the alias name Rnoteno.
     * @return the value of Rnoteno
     */
    public String getRnoteno() {
        return (String) getAttributeInternal(RNOTENO);
    }

    /**
     * Sets <code>value</code> as the attribute value for Rnoteno.
     * @param value value to set the Rnoteno
     */
    public void setRnoteno(String value) {
        setAttributeInternal(RNOTENO, value);
    }

    /**
     * Gets the attribute value for Rnlineno, using the alias name Rnlineno.
     * @return the value of Rnlineno
     */
    public Integer getRnlineno() {
        return (Integer) getAttributeInternal(RNLINENO);
    }

    /**
     * Sets <code>value</code> as the attribute value for Rnlineno.
     * @param value value to set the Rnlineno
     */
    public void setRnlineno(Integer value) {
        setAttributeInternal(RNLINENO, value);
    }

    /**
     * Gets the attribute value for ItemType, using the alias name ItemType.
     * @return the value of ItemType
     */
    public String getItemType() {
        return (String) getAttributeInternal(ITEMTYPE);
    }

    /**
     * Sets <code>value</code> as the attribute value for ItemType.
     * @param value value to set the ItemType
     */
    public void setItemType(String value) {
        setAttributeInternal(ITEMTYPE, value);
    }

    /**
     * Gets the attribute value for ConfirmedQty, using the alias name ConfirmedQty.
     * @return the value of ConfirmedQty
     */
    public BigDecimal getConfirmedQty() {
        return (BigDecimal) getAttributeInternal(CONFIRMEDQTY);
    }

    /**
     * Sets <code>value</code> as the attribute value for ConfirmedQty.
     * @param value value to set the ConfirmedQty
     */
    public void setConfirmedQty(BigDecimal value) {
        setAttributeInternal(CONFIRMEDQTY, value);
    }

    /**
     * Gets the attribute value for SiQty, using the alias name SiQty.
     * @return the value of SiQty
     */
    public BigDecimal getSiQty() {
        return (BigDecimal) getAttributeInternal(SIQTY);
    }

    /**
     * Sets <code>value</code> as the attribute value for SiQty.
     * @param value value to set the SiQty
     */
    public void setSiQty(BigDecimal value) {
        setAttributeInternal(SIQTY, value);
    }

    /**
     * Gets the attribute value for ExtraQty, using the alias name ExtraQty.
     * @return the value of ExtraQty
     */
    public BigDecimal getExtraQty() {
        return (BigDecimal) getAttributeInternal(EXTRAQTY);
    }

    /**
     * Sets <code>value</code> as the attribute value for ExtraQty.
     * @param value value to set the ExtraQty
     */
    public void setExtraQty(BigDecimal value) {
        setAttributeInternal(EXTRAQTY, value);
    }

    /**
     * Gets the attribute value for UnitPriceInFcurr, using the alias name UnitPriceInFcurr.
     * @return the value of UnitPriceInFcurr
     */
    public BigDecimal getUnitPriceInFcurr() {
        return (BigDecimal) getAttributeInternal(UNITPRICEINFCURR);
    }

    /**
     * Sets <code>value</code> as the attribute value for UnitPriceInFcurr.
     * @param value value to set the UnitPriceInFcurr
     */
    public void setUnitPriceInFcurr(BigDecimal value) {
        setAttributeInternal(UNITPRICEINFCURR, value);
    }

    /**
     * Gets the attribute value for UnitPriceInBcurr, using the alias name UnitPriceInBcurr.
     * @return the value of UnitPriceInBcurr
     */
    public BigDecimal getUnitPriceInBcurr() {
        return (BigDecimal) getAttributeInternal(UNITPRICEINBCURR);
    }

    /**
     * Sets <code>value</code> as the attribute value for UnitPriceInBcurr.
     * @param value value to set the UnitPriceInBcurr
     */
    public void setUnitPriceInBcurr(BigDecimal value) {
        setAttributeInternal(UNITPRICEINBCURR, value);
    }

    /**
     * Gets the attribute value for Createdby, using the alias name Createdby.
     * @return the value of Createdby
     */
    public String getCreatedby() {
        return (String) getAttributeInternal(CREATEDBY);
    }

    /**
     * Sets <code>value</code> as the attribute value for Createdby.
     * @param value value to set the Createdby
     */
    public void setCreatedby(String value) {
        setAttributeInternal(CREATEDBY, value);
    }

    /**
     * Gets the attribute value for CreatedDate, using the alias name CreatedDate.
     * @return the value of CreatedDate
     */
    public Date getCreatedDate() {
        return (Date) getAttributeInternal(CREATEDDATE);
    }

    /**
     * Sets <code>value</code> as the attribute value for CreatedDate.
     * @param value value to set the CreatedDate
     */
    public void setCreatedDate(Date value) {
        setAttributeInternal(CREATEDDATE, value);
    }

    /**
     * Gets the attribute value for Modifiedby, using the alias name Modifiedby.
     * @return the value of Modifiedby
     */
    public String getModifiedby() {
        return (String) getAttributeInternal(MODIFIEDBY);
    }

    /**
     * Sets <code>value</code> as the attribute value for Modifiedby.
     * @param value value to set the Modifiedby
     */
    public void setModifiedby(String value) {
        setAttributeInternal(MODIFIEDBY, value);
    }

    /**
     * Gets the attribute value for ModifiedDate, using the alias name ModifiedDate.
     * @return the value of ModifiedDate
     */
    public Date getModifiedDate() {
        return (Date) getAttributeInternal(MODIFIEDDATE);
    }

    /**
     * Sets <code>value</code> as the attribute value for ModifiedDate.
     * @param value value to set the ModifiedDate
     */
    public void setModifiedDate(Date value) {
        setAttributeInternal(MODIFIEDDATE, value);
    }

    /**
     * Gets the attribute value for Partid, using the alias name Partid.
     * @return the value of Partid
     */
    public String getPartid() {
        return (String) getAttributeInternal(PARTID);
    }

    /**
     * Sets <code>value</code> as the attribute value for Partid.
     * @param value value to set the Partid
     */
    public void setPartid(String value) {
        setAttributeInternal(PARTID, value);
    }

    /**
     * @return the associated entity PuSupplierInvoicesImpl.
     */
    public PuSupplierInvoicesImpl getPuSupplierInvoices() {
        return (PuSupplierInvoicesImpl) getAttributeInternal(PUSUPPLIERINVOICES);
    }

    /**
     * Sets <code>value</code> as the associated entity PuSupplierInvoicesImpl.
     */
    public void setPuSupplierInvoices(PuSupplierInvoicesImpl value) {
        setAttributeInternal(PUSUPPLIERINVOICES, value);
    }


    /**
     * @param suppInvDetlid key constituent

     * @return a Key object based on given key constituents.
     */
    public static Key createPrimaryKey(String suppInvDetlid) {
        return new Key(new Object[] { suppInvDetlid });
    }

    /**
     * Add attribute defaulting logic in this method.
     * @param attributeList list of attribute names/values to initialize the row
     */
    protected void create(AttributeList attributeList) {
        super.create(attributeList);
    }

    /**
     * Add entity remove logic in this method.
     */
    public void remove() {
        super.remove();
    }

    /**
     * Add locking logic here.
     */
    public void lock() {
        super.lock();
    }

    /**
     * Custom DML update/insert/delete logic here.
     * @param operation the operation type
     * @param e the transaction event
     */
    protected void doDML(int operation, TransactionEvent e) {
        if (operation==DML_INSERT) {
            ApplicationModule am=this.getDBTransaction().getRootApplicationModule();
            ViewObject        vo=am.findViewObject("mySupLinkK");
            if (vo!=null)
                {
                   vo.remove();     
                }
            vo=am.createViewObjectFromQueryStmt("mySupLinkK",
                                                "Select '"+getPuSupplierInvoices().getAttribute("Suppinvoiceid").toString()+"-'||nvl(max(to_number(substr(SUPP_INV_DETLID,length(SuppInvoiceId)+2)))+1,1) "+
                                                "from PU_SUPP_INV_PI_LINKS \n"+
                                                "Where SuppInvoiceId='"+ getPuSupplierInvoices().getAttribute("Suppinvoiceid").toString()+"'");
            vo.executeQuery();
            setSuppInvDetlid(vo.first().getAttribute(0).toString());
        }  
        super.doDML(operation, e);
        }
}

