package dgcom.model.eo.srv;

import dgcom.model.eo.inv.InItemsImpl;
import dgcom.model.stand.DigicomEntityImpl;

import java.math.BigDecimal;

import oracle.jbo.ApplicationModule;
import oracle.jbo.AttributeList;
import oracle.jbo.Key;
import oracle.jbo.RowSet;
import oracle.jbo.ViewObject;
import oracle.jbo.domain.Date;
import oracle.jbo.server.AttributeDefImpl;
import oracle.jbo.server.EntityDefImpl;
import oracle.jbo.server.EntityImpl;
import oracle.jbo.server.TransactionEvent;
// ---------------------------------------------------------------------
// ---    File generated by Oracle ADF Business Components Design Time.
// ---    Mon Aug 15 14:58:11 PKT 2016
// ---    Custom code may be added to this class.
// ---    Warning: Do not modify method signatures of generated methods.
// ---------------------------------------------------------------------
public class SrvStnpartsImpl extends DigicomEntityImpl {
    /**
     * AttributesEnum: generated enum for identifying attributes and accessors. DO NOT MODIFY.
     */
    public enum AttributesEnum {
        Stndetlid,
        Stnno,
        Fromstoreid,
        Tostoreid,
        Partid,
        Stnqty,
        UsedQty,
        Rate,
        Createdby,
        CreatedDate,
        Modifiedby,
        ModifiedDate,
        Dmditemid,
        Itemid,
        Salesrate,
        Incid,
        txtDemandQty,
        txtStock,
        txtPartName,
        txtPartID,
        txtToStoreName,
        txtFromStoreName,
        txtDemandQuantity,
        SrvStn,
        InParts,
        AllStores,
        AllStores1,
        InItems,
        AllDemandLines,
        AccSrvStnPartStnQtyCheckingQuery;
        private static AttributesEnum[] vals = null;
        private static final int firstIndex = 0;

        public int index() {
            return AttributesEnum.firstIndex() + ordinal();
        }

        public static final int firstIndex() {
            return firstIndex;
        }

        public static int count() {
            return AttributesEnum.firstIndex() + AttributesEnum.staticValues().length;
        }

        public static final AttributesEnum[] staticValues() {
            if (vals == null) {
                vals = AttributesEnum.values();
            }
            return vals;
        }
    }


    public static final int STNDETLID = AttributesEnum.Stndetlid.index();
    public static final int STNNO = AttributesEnum.Stnno.index();
    public static final int FROMSTOREID = AttributesEnum.Fromstoreid.index();
    public static final int TOSTOREID = AttributesEnum.Tostoreid.index();
    public static final int PARTID = AttributesEnum.Partid.index();
    public static final int STNQTY = AttributesEnum.Stnqty.index();
    public static final int USEDQTY = AttributesEnum.UsedQty.index();
    public static final int RATE = AttributesEnum.Rate.index();
    public static final int CREATEDBY = AttributesEnum.Createdby.index();
    public static final int CREATEDDATE = AttributesEnum.CreatedDate.index();
    public static final int MODIFIEDBY = AttributesEnum.Modifiedby.index();
    public static final int MODIFIEDDATE = AttributesEnum.ModifiedDate.index();
    public static final int DMDITEMID = AttributesEnum.Dmditemid.index();
    public static final int ITEMID = AttributesEnum.Itemid.index();
    public static final int SALESRATE = AttributesEnum.Salesrate.index();
    public static final int INCID = AttributesEnum.Incid.index();
    public static final int TXTDEMANDQTY = AttributesEnum.txtDemandQty.index();
    public static final int TXTSTOCK = AttributesEnum.txtStock.index();
    public static final int TXTPARTNAME = AttributesEnum.txtPartName.index();
    public static final int TXTPARTID = AttributesEnum.txtPartID.index();
    public static final int TXTTOSTORENAME = AttributesEnum.txtToStoreName.index();
    public static final int TXTFROMSTORENAME = AttributesEnum.txtFromStoreName.index();
    public static final int TXTDEMANDQUANTITY = AttributesEnum.txtDemandQuantity.index();
    public static final int SRVSTN = AttributesEnum.SrvStn.index();
    public static final int INPARTS = AttributesEnum.InParts.index();
    public static final int ALLSTORES = AttributesEnum.AllStores.index();
    public static final int ALLSTORES1 = AttributesEnum.AllStores1.index();
    public static final int INITEMS = AttributesEnum.InItems.index();
    public static final int ALLDEMANDLINES = AttributesEnum.AllDemandLines.index();
    public static final int ACCSRVSTNPARTSTNQTYCHECKINGQUERY = AttributesEnum.AccSrvStnPartStnQtyCheckingQuery.index();

    /**
     * This is the default constructor (do not remove).
     */
    public SrvStnpartsImpl() {
    }

    /**
     * @return the definition object for this instance class.
     */
    public static synchronized EntityDefImpl getDefinitionObject() {
        return EntityDefImpl.findDefObject("dgcom.model.eo.srv.SrvStnparts");
    }


    /**
     * Gets the attribute value for Stndetlid, using the alias name Stndetlid.
     * @return the value of Stndetlid
     */
    public String getStndetlid() {
        return (String) getAttributeInternal(STNDETLID);
    }

    /**
     * Sets <code>value</code> as the attribute value for Stndetlid.
     * @param value value to set the Stndetlid
     */
    public void setStndetlid(String value) {
        setAttributeInternal(STNDETLID, value);
    }

    /**
     * Gets the attribute value for Stnno, using the alias name Stnno.
     * @return the value of Stnno
     */
    public String getStnno() {
        return (String) getAttributeInternal(STNNO);
    }

    /**
     * Sets <code>value</code> as the attribute value for Stnno.
     * @param value value to set the Stnno
     */
    public void setStnno(String value) {
        setAttributeInternal(STNNO, value);
    }

    /**
     * Gets the attribute value for Fromstoreid, using the alias name Fromstoreid.
     * @return the value of Fromstoreid
     */
    public String getFromstoreid() {
        return (String) getAttributeInternal(FROMSTOREID);
    }

    /**
     * Sets <code>value</code> as the attribute value for Fromstoreid.
     * @param value value to set the Fromstoreid
     */
    public void setFromstoreid(String value) {
        setAttributeInternal(FROMSTOREID, value);
    }

    /**
     * Gets the attribute value for Tostoreid, using the alias name Tostoreid.
     * @return the value of Tostoreid
     */
    public String getTostoreid() {
        return (String) getAttributeInternal(TOSTOREID);
    }

    /**
     * Sets <code>value</code> as the attribute value for Tostoreid.
     * @param value value to set the Tostoreid
     */
    public void setTostoreid(String value) {
        setAttributeInternal(TOSTOREID, value);
    }

    /**
     * Gets the attribute value for Partid, using the alias name Partid.
     * @return the value of Partid
     */
    public String getPartid() {
        return (String) getAttributeInternal(PARTID);
    }

    /**
     * Sets <code>value</code> as the attribute value for Partid.
     * @param value value to set the Partid
     */
    public void setPartid(String value) {
        setAttributeInternal(PARTID, value);
    }

    /**
     * Gets the attribute value for Stnqty, using the alias name Stnqty.
     * @return the value of Stnqty
     */
    public Integer getStnqty() {
        return (Integer) getAttributeInternal(STNQTY);
    }

    /**
     * Sets <code>value</code> as the attribute value for Stnqty.
     * @param value value to set the Stnqty
     */
    public void setStnqty(Integer value) {
        setAttributeInternal(STNQTY, value);
    }

    /**
     * Gets the attribute value for UsedQty, using the alias name UsedQty.
     * @return the value of UsedQty
     */
    public BigDecimal getUsedQty() {
        return (BigDecimal) getAttributeInternal(USEDQTY);
    }

    /**
     * Sets <code>value</code> as the attribute value for UsedQty.
     * @param value value to set the UsedQty
     */
    public void setUsedQty(BigDecimal value) {
        setAttributeInternal(USEDQTY, value);
    }

    /**
     * Gets the attribute value for Rate, using the alias name Rate.
     * @return the value of Rate
     */
    public BigDecimal getRate() {
        return (BigDecimal) getAttributeInternal(RATE);
    }

    /**
     * Sets <code>value</code> as the attribute value for Rate.
     * @param value value to set the Rate
     */
    public void setRate(BigDecimal value) {
        setAttributeInternal(RATE, value);
    }

    /**
     * Gets the attribute value for Createdby, using the alias name Createdby.
     * @return the value of Createdby
     */
    public String getCreatedby() {
        return (String) getAttributeInternal(CREATEDBY);
    }

    /**
     * Sets <code>value</code> as the attribute value for Createdby.
     * @param value value to set the Createdby
     */
    public void setCreatedby(String value) {
        setAttributeInternal(CREATEDBY, value);
    }

    /**
     * Gets the attribute value for CreatedDate, using the alias name CreatedDate.
     * @return the value of CreatedDate
     */
    public Date getCreatedDate() {
        return (Date) getAttributeInternal(CREATEDDATE);
    }

    /**
     * Sets <code>value</code> as the attribute value for CreatedDate.
     * @param value value to set the CreatedDate
     */
    public void setCreatedDate(Date value) {
        setAttributeInternal(CREATEDDATE, value);
    }

    /**
     * Gets the attribute value for Modifiedby, using the alias name Modifiedby.
     * @return the value of Modifiedby
     */
    public String getModifiedby() {
        return (String) getAttributeInternal(MODIFIEDBY);
    }

    /**
     * Sets <code>value</code> as the attribute value for Modifiedby.
     * @param value value to set the Modifiedby
     */
    public void setModifiedby(String value) {
        setAttributeInternal(MODIFIEDBY, value);
    }

    /**
     * Gets the attribute value for ModifiedDate, using the alias name ModifiedDate.
     * @return the value of ModifiedDate
     */
    public Date getModifiedDate() {
        return (Date) getAttributeInternal(MODIFIEDDATE);
    }

    /**
     * Sets <code>value</code> as the attribute value for ModifiedDate.
     * @param value value to set the ModifiedDate
     */
    public void setModifiedDate(Date value) {
        setAttributeInternal(MODIFIEDDATE, value);
    }

    /**
     * Gets the attribute value for Dmditemid, using the alias name Dmditemid.
     * @return the value of Dmditemid
     */
    public String getDmditemid() {
        return (String) getAttributeInternal(DMDITEMID);
    }

    /**
     * Sets <code>value</code> as the attribute value for Dmditemid.
     * @param value value to set the Dmditemid
     */
    public void setDmditemid(String value) {
        setAttributeInternal(DMDITEMID, value);
    }

    /**
     * Gets the attribute value for Itemid, using the alias name Itemid.
     * @return the value of Itemid
     */
    public String getItemid() {
        return (String) getAttributeInternal(ITEMID);
    }

    /**
     * Sets <code>value</code> as the attribute value for Itemid.
     * @param value value to set the Itemid
     */
    public void setItemid(String value) {
        setAttributeInternal(ITEMID, value);
    }

    /**
     * Gets the attribute value for Salesrate, using the alias name Salesrate.
     * @return the value of Salesrate
     */
    public BigDecimal getSalesrate() {
        return (BigDecimal) getAttributeInternal(SALESRATE);
    }

    /**
     * Sets <code>value</code> as the attribute value for Salesrate.
     * @param value value to set the Salesrate
     */
    public void setSalesrate(BigDecimal value) {
        setAttributeInternal(SALESRATE, value);
    }

    /**
     * Gets the attribute value for Incid, using the alias name Incid.
     * @return the value of Incid
     */
    public String getIncid() {
        return (String) getAttributeInternal(INCID);
    }

    /**
     * Sets <code>value</code> as the attribute value for Incid.
     * @param value value to set the Incid
     */
    public void setIncid(String value) {
        setAttributeInternal(INCID, value);
    }

    /**
     * Gets the attribute value for txtDemandQty, using the alias name txtDemandQty.
     * @return the value of txtDemandQty
     */
    public Integer gettxtDemandQty() {
        return (Integer) getAttributeInternal(TXTDEMANDQTY);
    }

    /**
     * Sets <code>value</code> as the attribute value for txtDemandQty.
     * @param value value to set the txtDemandQty
     */
    public void settxtDemandQty(Integer value) {
        setAttributeInternal(TXTDEMANDQTY, value);
    }

    /**
     * Gets the attribute value for txtStock, using the alias name txtStock.
     * @return the value of txtStock
     */
    public Integer gettxtStock() {
        return (Integer) getAttributeInternal(TXTSTOCK);
    }

    /**
     * Sets <code>value</code> as the attribute value for txtStock.
     * @param value value to set the txtStock
     */
    public void settxtStock(Integer value) {
        setAttributeInternal(TXTSTOCK, value);
    }

    /**
     * Gets the attribute value for txtPartName, using the alias name txtPartName.
     * @return the value of txtPartName
     */
    public String gettxtPartName() {
        return (String) getAttributeInternal(TXTPARTNAME);
    }

    /**
     * Sets <code>value</code> as the attribute value for txtPartName.
     * @param value value to set the txtPartName
     */
    public void settxtPartName(String value) {
        setAttributeInternal(TXTPARTNAME, value);
    }

    /**
     * Gets the attribute value for txtPartID, using the alias name txtPartID.
     * @return the value of txtPartID
     */
    public String gettxtPartID() {
        return (String) getAttributeInternal(TXTPARTID);
    }

    /**
     * Sets <code>value</code> as the attribute value for txtPartID.
     * @param value value to set the txtPartID
     */
    public void settxtPartID(String value) {
        setAttributeInternal(TXTPARTID, value);
    }

    /**
     * Gets the attribute value for txtToStoreName, using the alias name txtToStoreName.
     * @return the value of txtToStoreName
     */
    public String gettxtToStoreName() {
        return (String) getAttributeInternal(TXTTOSTORENAME);
    }

    /**
     * Sets <code>value</code> as the attribute value for txtToStoreName.
     * @param value value to set the txtToStoreName
     */
    public void settxtToStoreName(String value) {
        setAttributeInternal(TXTTOSTORENAME, value);
    }

    /**
     * Gets the attribute value for txtFromStoreName, using the alias name txtFromStoreName.
     * @return the value of txtFromStoreName
     */
    public String gettxtFromStoreName() {
        return (String) getAttributeInternal(TXTFROMSTORENAME);
    }

    /**
     * Sets <code>value</code> as the attribute value for txtFromStoreName.
     * @param value value to set the txtFromStoreName
     */
    public void settxtFromStoreName(String value) {
        setAttributeInternal(TXTFROMSTORENAME, value);
    }

    /**
     * Gets the attribute value for txtDemandQuantity, using the alias name txtDemandQuantity.
     * @return the value of txtDemandQuantity
     */
    public Integer gettxtDemandQuantity() {
        return (Integer) getAttributeInternal(TXTDEMANDQUANTITY);
    }

    /**
     * Sets <code>value</code> as the attribute value for txtDemandQuantity.
     * @param value value to set the txtDemandQuantity
     */
    public void settxtDemandQuantity(Integer value) {
        setAttributeInternal(TXTDEMANDQUANTITY, value);
    }

    /**
     * @return the associated entity SrvStnImpl.
     */
    public SrvStnImpl getSrvStn() {
        return (SrvStnImpl) getAttributeInternal(SRVSTN);
    }

    /**
     * Sets <code>value</code> as the associated entity SrvStnImpl.
     */
    public void setSrvStn(SrvStnImpl value) {
        setAttributeInternal(SRVSTN, value);
    }


    /**
     * @return the associated entity InPartsImpl.
     */
    public InPartsImpl getInParts() {
        return (InPartsImpl) getAttributeInternal(INPARTS);
    }

    /**
     * Sets <code>value</code> as the associated entity InPartsImpl.
     */
    public void setInParts(InPartsImpl value) {
        setAttributeInternal(INPARTS, value);
    }

    /**
     * @return the associated entity oracle.jbo.server.EntityImpl.
     */
    public EntityImpl getAllStores() {
        return (EntityImpl) getAttributeInternal(ALLSTORES);
    }

    /**
     * Sets <code>value</code> as the associated entity oracle.jbo.server.EntityImpl.
     */
    public void setAllStores(EntityImpl value) {
        setAttributeInternal(ALLSTORES, value);
    }

    /**
     * @return the associated entity oracle.jbo.server.EntityImpl.
     */
    public EntityImpl getAllStores1() {
        return (EntityImpl) getAttributeInternal(ALLSTORES1);
    }

    /**
     * Sets <code>value</code> as the associated entity oracle.jbo.server.EntityImpl.
     */
    public void setAllStores1(EntityImpl value) {
        setAttributeInternal(ALLSTORES1, value);
    }

    /**
     * @return the associated entity dgcom.model.eo.inv.InItemsImpl.
     */
    public InItemsImpl getInItems() {
        return (InItemsImpl) getAttributeInternal(INITEMS);
    }

    /**
     * Sets <code>value</code> as the associated entity dgcom.model.eo.inv.InItemsImpl.
     */
    public void setInItems(InItemsImpl value) {
        setAttributeInternal(INITEMS, value);
    }

    /**
     * @return the associated entity AllDemandLinesImpl.
     */
    public AllDemandLinesImpl getAllDemandLines() {
        return (AllDemandLinesImpl) getAttributeInternal(ALLDEMANDLINES);
    }

    /**
     * Sets <code>value</code> as the associated entity AllDemandLinesImpl.
     */
    public void setAllDemandLines(AllDemandLinesImpl value) {
        setAttributeInternal(ALLDEMANDLINES, value);
    }

    /**
     * Gets the view accessor <code>RowSet</code> AccSrvStnPartStnQtyCheckingQuery.
     */
    public RowSet getAccSrvStnPartStnQtyCheckingQuery() {
        return (RowSet) getAttributeInternal(ACCSRVSTNPARTSTNQTYCHECKINGQUERY);
    }


    /**
     * @param stndetlid key constituent

     * @return a Key object based on given key constituents.
     */
    public static Key createPrimaryKey(String stndetlid) {
        return new Key(new Object[] { stndetlid });
    }

    /**
     * Add attribute defaulting logic in this method.
     * @param attributeList list of attribute names/values to initialize the row
     */
    protected void create(AttributeList attributeList) {
        super.create(attributeList);
    }

    /**
     * Add entity remove logic in this method.
     */
    public void remove() {
        super.remove();
    }

    /**
     * Add locking logic here.
     */
    public void lock() {
        super.lock();
    }

    /**
     * Custom DML update/insert/delete logic here.
     * @param operation the operation type
     * @param e the transaction event
     */
    protected void doDML(int operation, TransactionEvent e) {
        
            if (operation==DML_INSERT) {
                
                if (/* getStndetlid().contains("-") && */
                getPartid()==null) {
                    remove();
                    return ;
               }
                ApplicationModule am=this.getDBTransaction().getRootApplicationModule();
                ViewObject        vo=am.findViewObject("mySrvStnPartPK");
                ViewObject        stnvo=am.findViewObject("SrvStnStoreCRUD");
                setStnno((String)stnvo.getCurrentRow().getAttribute("Stnno"));
                if (vo!=null)
                    {
                       vo.remove();     
                    }
                vo=am.createViewObjectFromQueryStmt("mySrvStnPartPK",
                                                    "Select '"+getSrvStn().getAttribute("Stnno").toString()+"-'||nvl(max(to_number(substr(STNDetlId,length(Stnno)+2)))+1,1) "+
                                                    "from SRV_STNPARTS \n"+
                                                    "Where Stnno='"+ getSrvStn().getAttribute("Stnno").toString()+"'");
                vo.executeQuery();
                setStndetlid(vo.first().getAttribute(0).toString());
            }  
        super.doDML(operation, e);
        }
}

